(window.webpackJsonp=window.webpackJsonp||[]).push([[437],{1364:function(e,t,n){"use strict";n.r(t);var c=n(0),a=(n(17),n(170),n(171),n(172),n(173),n(153),n(143)),l=n(48),o=n(58),r=n(5);const s=e=>{const t=e.value&&e.validity.valid,n=document.querySelector('input[type="datetime-local"]#announcement_ends_at');n&&(t?(n.classList.remove("optional"),n.required=!0,n.min=e.value):(n.classList.add("optional"),n.removeAttribute("required"),n.removeAttribute("min")))};l.a.delegate(document,'input[type="datetime-local"]#announcement_starts_at',"change",(e=>{let{target:t}=e;t instanceof HTMLInputElement&&s(t)}));const i='.batch-checkbox input[type="checkbox"]',d=()=>{const e=document.querySelector(".batch-table__select-all");null==e||e.classList.add("active")},u=()=>{const e=document.querySelector(".batch-table__select-all"),t=document.querySelector("input#select_all_matching"),n=document.querySelector(".batch-table__select-all .selected"),c=document.querySelector(".batch-table__select-all .not-selected");null==e||e.classList.remove("active"),null==n||n.classList.remove("active"),null==c||c.classList.add("active"),t&&(t.value="0")};l.a.delegate(document,"#batch_checkbox_all","change",(e=>{let{target:t}=e;if(!(t instanceof HTMLInputElement))return;const n=document.querySelector(".batch-table__select-all");document.querySelectorAll(i).forEach((e=>{e.checked=t.checked})),n&&(t.checked?d():u())})),l.a.delegate(document,".batch-table__select-all button","click",(()=>{const e=document.querySelector("#select_all_matching");if(!e)return;const t="1"===e.value,n=document.querySelector(".batch-table__select-all .selected"),c=document.querySelector(".batch-table__select-all .not-selected");n&&c&&(t?(e.value="0",n.classList.remove("active"),c.classList.add("active")):(e.value="1",c.classList.remove("active"),n.classList.add("active")))})),l.a.delegate(document,i,"change",(()=>{const e=document.querySelector("input#batch_checkbox_all"),t=document.querySelector(".batch-table__select-all");if(e){const n=Array.from(document.querySelectorAll(i));e.checked=n.every((e=>e.checked)),e.indeterminate=!e.checked&&n.some((e=>e.checked)),t&&(e.checked?d():u())}})),l.a.delegate(document,".filter-subset--with-select select","change",(e=>{var t;let{target:n}=e;n instanceof HTMLSelectElement&&(null===(t=n.form)||void 0===t||t.submit())}));const m=e=>{const t=document.querySelector(".input.with_label.domain_block_reject_media"),n=document.querySelector(".input.with_label.domain_block_reject_reports");t&&t instanceof HTMLElement&&(t.style.display="suspend"===e.value?"none":"block"),n&&n instanceof HTMLElement&&(n.style.display="suspend"===e.value?"none":"block")};l.a.delegate(document,"#domain_block_severity","change",(e=>{let{target:t}=e;t instanceof HTMLSelectElement&&m(t)}));const _=e=>{const t=document.querySelector("#form_admin_settings_bootstrap_timeline_accounts");var n,c,a,l;t&&(t.disabled=!e.checked,e.checked?(null===(n=t.parentElement)||void 0===n||n.classList.remove("disabled"),null===(c=t.parentElement)||void 0===c||null===(c=c.parentElement)||void 0===c||c.classList.remove("disabled")):(null===(a=t.parentElement)||void 0===a||a.classList.add("disabled"),null===(l=t.parentElement)||void 0===l||null===(l=l.parentElement)||void 0===l||l.classList.add("disabled")))};l.a.delegate(document,"#form_admin_settings_enable_bootstrap_timeline_accounts","change",(e=>{let{target:t}=e;t instanceof HTMLInputElement&&_(t)}));const p=e=>{const t="approved"===e.value;document.querySelectorAll(".form_admin_settings_registrations_mode .warning-hint").forEach((t=>{t.style.display="open"===e.value?"inline":"none"})),document.querySelectorAll("input#form_admin_settings_require_invite_text").forEach((e=>{if(e.disabled=!t,t){let t=e;do{t.classList.remove("disabled"),t=t.parentElement}while(t&&!t.classList.contains("fields-group"))}else{let t=e;do{t.classList.add("disabled"),t=t.parentElement}while(t&&!t.classList.contains("fields-group"))}}))},h=e=>{const t=new Date(e+"Z"),n=e=>e.toString().padStart(2,"0");return"".concat(t.getFullYear(),"-").concat(n(t.getMonth()+1),"-").concat(n(t.getDate()),"T").concat(n(t.getHours()),":").concat(n(t.getMinutes()))};l.a.delegate(document,"#form_admin_settings_registrations_mode","change",(e=>{let{target:t}=e;t instanceof HTMLSelectElement&&p(t)})),Object(o.a)((()=>{var e;const t=document.querySelector("select#domain_block_severity");t&&m(t);const o=document.querySelector("input#form_admin_settings_enable_bootstrap_timeline_accounts");o&&_(o);const d=document.querySelector("select#form_admin_settings_registrations_mode");d&&p(d);const u=document.querySelector("input#batch_checkbox_all");if(u){const e=Array.from(document.querySelectorAll(i));u.checked=e.every((e=>e.checked)),u.indeterminate=!u.checked&&e.some((e=>e.checked))}null===(e=document.querySelector("a#add-instance-button"))||void 0===e||e.addEventListener("click",(e=>{var t;const n=null===(t=document.querySelector('input[type="text"]#by_domain'))||void 0===t?void 0:t.value;if(n&&e.target instanceof HTMLAnchorElement){const t=new URL(e.target.href);t.searchParams.set("_domain",n),e.target.href=t.toString()}})),document.querySelectorAll('input[type="datetime-local"]').forEach((e=>{e.value&&(e.value=h(e.value)),e.placeholder&&(e.placeholder=h(e.placeholder))})),l.a.delegate(document,"form","submit",(e=>{let{target:t}=e;t instanceof HTMLFormElement&&t.querySelectorAll('input[type="datetime-local"]').forEach((e=>{e.value&&e.validity.valid&&(e.value=function(e){const t=new Date(e).toISOString();return t.slice(0,t.indexOf("T")+6)}(e.value))}))}));const b=document.querySelector('input[type="datetime-local"]#announcement_starts_at');b&&s(b),document.querySelectorAll("[data-admin-component]").forEach((e=>{!async function(e){const t=e.getAttribute("data-admin-component"),l=e.getAttribute("data-props");if(!l)return;const o=JSON.parse(l),{default:s}=await n.e(607).then(n.bind(null,1544)),{default:i}=await n(1365)("./".concat(t));Object(a.createRoot)(e).render(Object(c.a)(s,{},void 0,Object(r.jsx)(i,{...o})))}(e)}))})).catch((e=>{throw e}))},1365:function(e,t,n){var c={"./Counter":[1e3,0,431],"./Counter.jsx":[1e3,0,431],"./Dimension":[1001,0,432],"./Dimension.jsx":[1001,0,432],"./ImpactReport":[1002,0,433],"./ImpactReport.jsx":[1002,0,433],"./ReportReasonSelector":[1003,0,434],"./ReportReasonSelector.jsx":[1003,0,434],"./Retention":[1004,0,435],"./Retention.jsx":[1004,0,435],"./Trends":[1005,0,436],"./Trends.jsx":[1005,0,436]};function a(e){if(!n.o(c,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=c[e],a=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n(a)}))}a.keys=function(){return Object.keys(c)},a.id=1365,e.exports=a}},[[1364,0]]]);
//# sourceMappingURL=admin-c84247d531ee2492d7df.chunk.js.map