{"version":3,"sources":["webpack:///./app/javascript/material-icons/400-24px/block.svg","webpack:///./app/javascript/mastodon/features/ui/components/block_modal.jsx"],"names":["_path","_extends","Object","assign","bind","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_ref","title","titleId","props","xmlns","height","viewBox","width","id","d","BlockModal","accountId","acct","dispatch","useDispatch","expanded","setExpanded","useState","domain","split","handleClick","useCallback","closeModal","modalType","undefined","ignoreFocus","blockAccount","handleCancel","handleToggleLearnMore","_jsx","className","Icon","icon","BlockIcon","FormattedMessage","defaultMessage","CampaignIcon","VisibilityOffIcon","AlternateEmailIcon","ReplyIcon","classNames","active","values","onClick","Button"],"mappings":"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","file":"js/modals/block_modal-571028fefc76291706a2.chunk.js","sourcesContent":["var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nfunction SvgBlock(_ref) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: 24,\n    viewBox: \"0 -960 960 960\",\n    width: 24,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M480-80q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-80q54 0 104-17.5t92-50.5L228-676q-33 42-50.5 92T160-480q0 134 93 227t227 93Zm252-124q33-42 50.5-92T800-480q0-134-93-227t-227-93q-54 0-104 17.5T284-732l448 448Z\"\n  })));\n}\nexport default SvgBlock;","import PropTypes from 'prop-types';\nimport { useCallback, useState } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\n\nimport classNames from 'classnames';\n\nimport { useDispatch } from 'react-redux';\n\nimport AlternateEmailIcon from '@/material-icons/400-24px/alternate_email.svg?react';\nimport BlockIcon from '@/material-icons/400-24px/block.svg?react';\nimport CampaignIcon from '@/material-icons/400-24px/campaign.svg?react';\nimport ReplyIcon from '@/material-icons/400-24px/reply.svg?react';\nimport VisibilityOffIcon from '@/material-icons/400-24px/visibility_off.svg?react';\nimport { blockAccount } from 'mastodon/actions/accounts';\nimport { closeModal } from 'mastodon/actions/modal';\nimport { Button } from 'mastodon/components/button';\nimport { Icon } from 'mastodon/components/icon';\n\nexport const BlockModal = ({ accountId, acct }) => {\n  const dispatch = useDispatch();\n  const [expanded, setExpanded] = useState(false);\n\n  const domain = acct.split('@')[1];\n\n  const handleClick = useCallback(() => {\n    dispatch(closeModal({ modalType: undefined, ignoreFocus: false }));\n    dispatch(blockAccount(accountId));\n  }, [dispatch, accountId]);\n\n  const handleCancel = useCallback(() => {\n    dispatch(closeModal({ modalType: undefined, ignoreFocus: false }));\n  }, [dispatch]);\n\n  const handleToggleLearnMore = useCallback(() => {\n    setExpanded(!expanded);\n  }, [expanded, setExpanded]);\n\n  return (\n    <div className='modal-root__modal safety-action-modal'>\n      <div className='safety-action-modal__top'>\n        <div className='safety-action-modal__header'>\n          <div className='safety-action-modal__header__icon'>\n            <Icon icon={BlockIcon} />\n          </div>\n\n          <div>\n            <h1><FormattedMessage id='block_modal.title' defaultMessage='Block user?' /></h1>\n            <div>@{acct}</div>\n          </div>\n        </div>\n\n        <div className='safety-action-modal__bullet-points'>\n          <div>\n            <div className='safety-action-modal__bullet-points__icon'><Icon icon={CampaignIcon} /></div>\n            <div><FormattedMessage id='block_modal.they_will_know' defaultMessage=\"They can see that they're blocked.\" /></div>\n          </div>\n\n          <div>\n            <div className='safety-action-modal__bullet-points__icon'><Icon icon={VisibilityOffIcon} /></div>\n            <div><FormattedMessage id='block_modal.they_cant_see_posts' defaultMessage=\"They can't see your posts and you won't see theirs.\" /></div>\n          </div>\n\n          <div>\n            <div className='safety-action-modal__bullet-points__icon'><Icon icon={AlternateEmailIcon} /></div>\n            <div><FormattedMessage id='block_modal.you_wont_see_mentions' defaultMessage=\"You won't see posts that mentions them.\" /></div>\n          </div>\n\n          <div>\n            <div className='safety-action-modal__bullet-points__icon'><Icon icon={ReplyIcon} /></div>\n            <div><FormattedMessage id='block_modal.they_cant_mention' defaultMessage=\"They can't mention or follow you.\" /></div>\n          </div>\n        </div>\n      </div>\n\n      <div className={classNames('safety-action-modal__bottom', { active: expanded })}>\n        {domain && (\n          <div className='safety-action-modal__bottom__collapsible'>\n            <div className='safety-action-modal__caveats'>\n              <FormattedMessage\n                id='block_modal.remote_users_caveat'\n                defaultMessage='We will ask the server {domain} to respect your decision. However, compliance is not guaranteed since some servers may handle blocks differently. Public posts may still be visible to non-logged-in users.'\n                values={{ domain: <strong>{domain}</strong> }}\n              />\n            </div>\n          </div>\n        )}\n\n        <div className='safety-action-modal__actions'>\n          {domain && (\n            <button onClick={handleToggleLearnMore} className='link-button'>\n              {expanded ? <FormattedMessage id='block_modal.show_less' defaultMessage='Show less' /> : <FormattedMessage id='block_modal.show_more' defaultMessage='Show more' />}\n            </button>\n          )}\n\n          <div className='spacer' />\n\n          <button onClick={handleCancel} className='link-button'>\n            <FormattedMessage id='confirmation_modal.cancel' defaultMessage='Cancel' />\n          </button>\n\n          <Button onClick={handleClick}>\n            <FormattedMessage id='confirmations.block.confirm' defaultMessage='Block' />\n          </Button>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nBlockModal.propTypes = {\n  accountId: PropTypes.string.isRequired,\n  acct: PropTypes.string.isRequired,\n};\n\nexport default BlockModal;\n"],"sourceRoot":""}