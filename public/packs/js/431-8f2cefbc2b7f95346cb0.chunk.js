(window.webpackJsonp=window.webpackJsonp||[]).push([[431],{1e3:function(a,e,t){"use strict";t.r(e),t.d(e,"default",(function(){return _}));var s=t(0),n=t(2),i=(t(17),t(1)),l=t(9),c=t(10),r=t.n(c),o=t(368),d=t(7),p=t(85),v=t(5);class _ extends i.PureComponent{constructor(){super(...arguments),Object(n.a)(this,"state",{loading:!0,data:null})}componentDidMount(){const{measure:a,start_at:e,end_at:t,params:s}=this.props;Object(d.b)().post("/api/v1/admin/measures",{keys:[a],start_at:e,end_at:t,[a]:s}).then((a=>{this.setState({loading:!1,data:a.data})})).catch((a=>{console.error(a)}))}render(){const{label:a,href:e,target:t}=this.props,{loading:n,data:i}=this.state;let c;if(n)c=Object(v.jsxs)(v.Fragment,{children:[Object(s.a)("span",{className:"sparkline__value__total"},void 0,Object(s.a)(p.a,{width:43})),Object(s.a)("span",{className:"sparkline__value__change"},void 0,Object(s.a)(p.a,{width:43}))]});else{const a=i[0],e=a.previous_total&&((a,e)=>{let t;return t=0!==e?0!==a?(e-a)/a:1:0===e&&0===a?0:-1,t})(1*a.previous_total,1*a.total);c=Object(v.jsxs)(v.Fragment,{children:[Object(s.a)("span",{className:"sparkline__value__total"},void 0,a.human_value||Object(s.a)(l.c,{value:a.total})),a.previous_total&&Object(s.a)("span",{className:r()("sparkline__value__change",{positive:e>0,negative:e<0})},void 0,e>0&&"+",Object(s.a)(l.c,{value:e,style:"percent"}))]})}const d=Object(v.jsxs)(v.Fragment,{children:[Object(s.a)("div",{className:"sparkline__value"},void 0,c),Object(s.a)("div",{className:"sparkline__label"},void 0,a),Object(s.a)("div",{className:"sparkline__graph"},void 0,!n&&Object(s.a)(o.Sparklines,{width:259,height:55,data:i[0].data.map((a=>1*a.value))},void 0,Object(s.a)(o.SparklinesCurve,{})))]});return e?Object(s.a)("a",{href:e,className:"sparkline",target:t},void 0,d):Object(s.a)("div",{className:"sparkline"},void 0,d)}}}}]);
//# sourceMappingURL=431-8f2cefbc2b7f95346cb0.chunk.js.map