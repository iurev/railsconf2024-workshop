(window.webpackJsonp=window.webpackJsonp||[]).push([[448],{1421:function(t,e,a){"use strict";a.r(e);var c=a(2),s=a(0),o=(a(17),a(3)),n=a.n(o),i=a(25),d=a(4),u=a(20),r=a.n(u),p=a(23),l=a(8),b=a(1399),g=a(148),m=a(6),h=a(232),I=a(41),O=a(15),j=a(284),f=a(24),w=a(1388),y=a(169),M=a(381),_=a(1381),L=a(1400),R=a(1396);const k=Object(d.List)(),A=t=>{let{url:e}=t;return Object(s.a)(b.a,{url:e,resource:Object(s.a)(i.a,{id:"timeline_hint.resources.statuses",defaultMessage:"Older posts"})})};class v extends p.a{constructor(){super(...arguments),Object(c.a)(this,"handleLoadMore",(t=>{this.props.dispatch(Object(f.u)(this.props.accountId,{maxId:t,withReplies:this.props.withReplies,tagged:this.props.params.tagged}))}))}_load(){const{accountId:t,withReplies:e,params:{tagged:a},dispatch:c}=this.props;c(Object(O.A)(t)),e||c(Object(f.s)(t,{tagged:a})),c(Object(j.d)(t)),c(Object(f.u)(t,{withReplies:e,tagged:a})),t===m.o&&c(Object(f.p)("account:".concat(m.o)))}componentDidMount(){const{params:{acct:t},accountId:e,dispatch:a}=this.props;e?this._load():a(Object(O.G)(t))}componentDidUpdate(t){const{params:{acct:e,tagged:a},accountId:c,withReplies:s,dispatch:o}=this.props;t.accountId!==c&&c?this._load():t.params.acct!==e?o(Object(O.G)(e)):t.params.tagged!==a&&(s||o(Object(f.s)(c,{tagged:a})),o(Object(f.u)(c,{withReplies:s,tagged:a}))),t.accountId===m.o&&c!==m.o&&o(Object(f.r)("account:".concat(m.o)))}componentWillUnmount(){const{dispatch:t,accountId:e}=this.props;e===m.o&&t(Object(f.r)("account:".concat(m.o)))}render(){const{accountId:t,statusIds:e,featuredStatusIds:a,isLoading:c,hasMore:o,blockedBy:n,suspended:d,isAccount:u,hidden:r,multiColumn:p,remote:l,remoteUrl:b}=this.props;if(c&&e.isEmpty())return Object(s.a)(_.a,{},void 0,Object(s.a)(y.a,{}));if(!c&&!u)return Object(s.a)(g.a,{multiColumn:p,errorType:"routing"});let m;const h=d||n||r;m=d?Object(s.a)(i.a,{id:"empty_column.account_suspended",defaultMessage:"Account suspended"}):r?Object(s.a)(L.a,{accountId:t}):n?Object(s.a)(i.a,{id:"empty_column.account_unavailable",defaultMessage:"Profile unavailable"}):l&&e.isEmpty()?Object(s.a)(A,{url:b}):Object(s.a)(i.a,{id:"empty_column.account_timeline",defaultMessage:"No posts found"});const I=l?Object(s.a)(A,{url:b}):null;return Object(s.a)(_.a,{},void 0,Object(s.a)(w.a,{}),Object(s.a)(M.a,{prepend:Object(s.a)(R.a,{accountId:this.props.accountId,hideTabs:h,tagged:this.props.params.tagged}),alwaysPrepend:!0,append:I,scrollKey:"account_timeline",statusIds:h?k:e,featuredStatusIds:a,isLoading:c,hasMore:!h&&o,onLoadMore:this.handleLoadMore,emptyMessage:m,bindToDocument:!p,timelineId:"account"}))}}Object(c.a)(v,"propTypes",{params:n.a.shape({acct:n.a.string,id:n.a.string,tagged:n.a.string}).isRequired,accountId:n.a.string,dispatch:n.a.func.isRequired,statusIds:r.a.list,featuredStatusIds:r.a.list,isLoading:n.a.bool,hasMore:n.a.bool,withReplies:n.a.bool,blockedBy:n.a.bool,isAccount:n.a.bool,suspended:n.a.bool,hidden:n.a.bool,remote:n.a.bool,remoteUrl:n.a.string,multiColumn:n.a.bool}),e.default=Object(l.connect)(((t,e)=>{let{params:{acct:a,id:c,tagged:s},withReplies:o=!1}=e;const n=c||t.getIn(["accounts_map",Object(h.b)(a)]);if(null===n)return{isLoading:!1,isAccount:!1,statusIds:k};if(!n)return{isLoading:!0,statusIds:k};const i=o?"".concat(n,":with_replies"):"".concat(n).concat(s?":".concat(s):"");return{accountId:n,remote:!(t.getIn(["accounts",n,"acct"])===t.getIn(["accounts",n,"username"])),remoteUrl:t.getIn(["accounts",n,"url"]),isAccount:!!t.getIn(["accounts",n]),statusIds:t.getIn(["timelines","account:".concat(i),"items"],k),featuredStatusIds:o?Object(d.List)():t.getIn(["timelines","account:".concat(n,":pinned").concat(s?":".concat(s):""),"items"],k),isLoading:t.getIn(["timelines","account:".concat(i),"isLoading"]),hasMore:t.getIn(["timelines","account:".concat(i),"hasMore"]),suspended:t.getIn(["accounts",n,"suspended"],!1),hidden:Object(I.b)(t,n),blockedBy:t.getIn(["relationships",n,"blocked_by"],!1)}}))(v)}}]);
//# sourceMappingURL=account_timeline-73ba6a376fafd3ee5398.chunk.js.map