(window.webpackJsonp=window.webpackJsonp||[]).push([[454],{1433:function(e,t,a){"use strict";a.r(t);var s=a(0),o=a(2),c=(a(17),a(1)),i=a(9),l=a(55),r=a(112),n=a(4),d=a(8),h=a(377),m=a(203),p=a(166),b=a(229),u=a(228),g=a(385),O=a(169),j=a(1398),v=a(386),f=a(1413),C=a(5);const M=Object(i.d)({title:{id:"column.directory",defaultMessage:"Browse profiles"},recentlyActive:{id:"directory.recently_active",defaultMessage:"Recently active"},newArrivals:{id:"directory.new_arrivals",defaultMessage:"New arrivals"},local:{id:"directory.local",defaultMessage:"From {domain} only"},federated:{id:"directory.federated",defaultMessage:"From known fediverse"}});class y extends c.PureComponent{constructor(){super(...arguments),Object(o.a)(this,"state",{order:null,local:null}),Object(o.a)(this,"handlePin",(()=>{const{columnId:e,dispatch:t}=this.props;t(e?Object(m.h)(e):Object(m.e)("DIRECTORY",this.getParams(this.props,this.state)))})),Object(o.a)(this,"getParams",((e,t)=>({order:null===t.order?e.params.order||"active":t.order,local:null===t.local?e.params.local||!1:t.local}))),Object(o.a)(this,"handleMove",(e=>{const{columnId:t,dispatch:a}=this.props;a(Object(m.g)(t,e))})),Object(o.a)(this,"handleHeaderClick",(()=>{this.column.scrollTop()})),Object(o.a)(this,"setRef",(e=>{this.column=e})),Object(o.a)(this,"handleChangeOrder",(e=>{const{dispatch:t,columnId:a}=this.props;a?t(Object(m.f)(a,["order"],e.target.value)):this.setState({order:e.target.value})})),Object(o.a)(this,"handleChangeLocal",(e=>{const{dispatch:t,columnId:a}=this.props;a?t(Object(m.f)(a,["local"],"1"===e.target.value)):this.setState({local:"1"===e.target.value})})),Object(o.a)(this,"handleLoadMore",(()=>{const{dispatch:e}=this.props;e(Object(p.g)(this.getParams(this.props,this.state)))}))}componentDidMount(){const{dispatch:e}=this.props;e(Object(p.h)(this.getParams(this.props,this.state)))}componentDidUpdate(e,t){const{dispatch:a}=this.props,s=this.getParams(e,t),o=this.getParams(this.props,this.state);s.order===o.order&&s.local===o.local||a(Object(p.h)(o))}render(){const{isLoading:e,accountIds:t,intl:a,columnId:o,multiColumn:c,domain:i}=this.props,{order:l,local:n}=this.getParams(this.props,this.state),d=!!o,m=Object(s.a)("div",{className:"scrollable"},void 0,Object(s.a)("div",{className:"filter-form"},void 0,Object(s.a)("div",{className:"filter-form__column",role:"group"},void 0,Object(s.a)(j.a,{name:"order",value:"active",label:a.formatMessage(M.recentlyActive),checked:"active"===l,onChange:this.handleChangeOrder}),Object(s.a)(j.a,{name:"order",value:"new",label:a.formatMessage(M.newArrivals),checked:"new"===l,onChange:this.handleChangeOrder})),Object(s.a)("div",{className:"filter-form__column",role:"group"},void 0,Object(s.a)(j.a,{name:"local",value:"1",label:a.formatMessage(M.local,{domain:i}),checked:n,onChange:this.handleChangeLocal}),Object(s.a)(j.a,{name:"local",value:"0",label:a.formatMessage(M.federated),checked:!n,onChange:this.handleChangeLocal}))),Object(s.a)("div",{className:"directory__list"},void 0,e?Object(s.a)(O.a,{}):t.map((e=>Object(s.a)(f.a,{id:e},e)))),Object(s.a)(g.a,{onClick:this.handleLoadMore,visible:!e}));return Object(C.jsxs)(b.a,{bindToDocument:!c,ref:this.setRef,label:a.formatMessage(M.title),children:[Object(s.a)(u.a,{icon:"address-book-o",iconComponent:h.a,title:a.formatMessage(M.title),onPin:this.handlePin,onMove:this.handleMove,onClick:this.handleHeaderClick,pinned:d,multiColumn:c}),c&&!d?Object(s.a)(v.a,{scrollKey:"directory"},void 0,m):m,Object(s.a)(r.a,{},void 0,Object(s.a)("title",{},void 0,a.formatMessage(M.title)),Object(s.a)("meta",{name:"robots",content:"noindex"}))]})}}t.default=Object(d.connect)((e=>({accountIds:e.getIn(["user_lists","directory","items"],Object(n.List)()),isLoading:e.getIn(["user_lists","directory","isLoading"],!0),domain:e.getIn(["meta","domain"])})))(Object(l.c)(y))}}]);
//# sourceMappingURL=directory-e3ca723236d91cd356ea.chunk.js.map